{# ------------------------------------------------------------------------------------------- #}
{# Loading Static Files #}
{% load static %}
{# ------------------------------------------------------------------------------------------- #}
<!DOCTYPE html>
<html lang="en">

<head>
    {# ------------------------------------------------------------------------------------------- #}
    {# Links #}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# ------------------------------------------------------------------------------------------- #}
    {# Font Awesome (Fas fa icons) #}

    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

    {# ------------------------------------------------------------------------------------------- #}
    {# Swiper (Carousel) #}
    <link href="{% static 'main/scripts/js/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    {# ------------------------------------------------------------------------------------------- #}
    {# User css links #}
    <link rel="stylesheet" type="text/css" href="{% static 'main/styles/scss/global.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" charset="utf-8" defer></script>
    {# ------------------------------------------------------------------------------------------- #}
    {# Website title #}
    {% block title %}{% endblock %}
    {# ------------------------------------------------------------------------------------------- #}
</head>

<body>
{# ------------------------------------------------------------------------------------------- #}
{# Body #}

{% include 'layout/preloader.html' %}

{% include 'layout/header.html' %}

{% block content %}

{% endblock %}

{% include 'layout/top.html' %}

{% include 'layout/footer.html' %}

{# ------------------------------------------------------------------------------------------- #}
{# Scripts #}
<script src="{% static 'main/scripts/js/progressbar.js' %}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Swiper (Carousel) -->
<script src="{% static 'main/scripts/js/owlcarousel/owl.carousel.min.js' %}"></script>
<!-- Swiper (Carousel) -->
<script type="text/javascript">
    // ------------------------------------------------------------------------------------------- //
    /*------------------
            Preloader
    --------------------*/

    (function ($) {
        $(window).on('load', function () {
            $(".loader").fadeOut();
            $("#preloder").delay(200).fadeOut("slow");
        });
    })(jQuery);

    document.addEventListener("DOMContentLoaded", function () {
        const hiddenText = document.querySelector(".hidden-preloader-text");

        setTimeout(() => {
            hiddenText.style.opacity = "1";
            hiddenText.style.transform = "scaleX(1)";
        }, 150);
    });




    /* END Preloader */

    /* HEADER-NAVBAR + BOTTOM BTN TO TOP */
    var className = "header-active";
    var BtnTop = "btn-top-active";
    var scrollTrigger = 60;
    var scrollBtn = 600;
    const backToTopButton = document.getElementById('back-to-top');
    const siteProgressBar = document.getElementById('progress');
    window.onscroll = function() {
        if (window.scrollY >= scrollTrigger || window.pageYOffset >= scrollTrigger) {
            document.getElementById("header").classList.add(className);
            siteProgressBar.classList.remove("progress-hidden");
            siteProgressBar.style.background = 'var(--progress-background)';
        } else {
            document.getElementById("header").classList.remove(className);
            siteProgressBar.classList.add("progress-hidden");
        }
        
        if (window.scrollY >= scrollBtn || window.pageYOffset >= scrollBtn) {
            document.getElementById("btn-top-container").classList.add(BtnTop);
        } else {
            document.getElementById("btn-top-container").classList.remove(BtnTop);
        }
    };

    // Smooth scroll to the top when the button is clicked
    backToTopButton.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });


    // HIDE THE HEADER WHEN USER SCROOLS DOWN 
    const siteHeader = document.getElementById('header');
    let lastScrollPosition = 0;
    const screenWidthThreshold = 1200;
    window.addEventListener('scroll', () => {
    if (window.innerWidth <= screenWidthThreshold) {
        siteHeader.style.transform = 'translateY(0)';
    } else {
        const currentScrollPosition = window.scrollY;
        if (currentScrollPosition > lastScrollPosition) {
        // Scrolling down
        siteHeader.style.transform = 'translateY(-100%)';
        siteProgressBar.style.bottom = '0';
        siteProgressBar.style.top = 'unset';
        siteProgressBar.style.transform = 'translateY(5px)';
        } else {
            // Scrolling up
            siteHeader.style.transform = 'translateY(0)';
            siteProgressBar.style.top = '0';
            siteProgressBar.style.bottom = 'unset';
            siteProgressBar.style.transform = 'translateY(0px)';
        }
        lastScrollPosition = currentScrollPosition; 
    }
    });
        
    /* HEADER-NAVBAR + BOTTOM BTN TO TOP END */

    /*  HEADER ACTIVE CLASS FUNCTION START */
    const navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(link => {
        if (link.href === window.location.href) {
            link.classList.toggle('active');
        }
    });

    /*  HEADER ACTIVE CLASS FUNCTION END */

    /* FOOTER*/ 

    /* END FOOTER*/ 

</script>

{% block js_block %}

{% endblock %}
</body>

</html>