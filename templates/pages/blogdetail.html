{% extends 'layout/base.html' %}
{% load static %}

{% block title %}
<title>Blog Detail - CyberCode</title>
{% endblock %}

{% block content %}
<main class="main blog-detail-main">
    <!-- START GRADIENT CONTENT -->

    <section class="detail-gradient-section">
        <div class="detail-gradient-container">
            <h1 class="detail-gradient-title">{{ object.title }}</h1>
            <div class="detail-gradient-image-container">
                <img src="{{ object.user.user_image.url }}" alt="">
            </div>
            <h1 class="detail-gradient-username">{{ object.user }}</h1>
            <h2 class="detail-gradient-posted">Posted on</h2>
            <p class="detail-gradient-posted-date">{{ object.posted_on|date:"F d, Y" }}</p>
        </div>
    </section>

    <!-- END GRADIENT CONTENT -->

    <!-- START DETAIL CONTENT -->

    <section class="detail-content-section">
        <div class="detail-content-container">
            <div class="detail-content-wrapper">
                {{ object.post_text|safe }}
            </div>
        </div>
    </section>

    <!-- END DETAIL CONTENT -->

    <!-- START DETAIL LINK SECTION -->

    <section class="detail-link-section">
        <div class="detail-link-container">
            <div class="detail-link-text-container">
                <h1 class="detail-link-title">Share this post with people</h1>
                <p class="detail-link-text">{{ object.short_description }}</p>
            </div>
            <div class="detail-share-container">
                <div class="detail-share-user-info-container">
                    <p class="detail-share-posted">Posted on {{ object.posted_on|date:"F d, Y" }}</p>
                    <p class="detail-share-username">{{ object.user }}</p>
                </div>
                <div class="detail-share-social-container">
                    <p class="detail-share-social-text">Share this article</p>
                    <button class="shareBtn" id="shareBtn"><i
                            class="fa-sharp fa-solid fa-link detail-share-link-icon"></i></button>
                    <a href="https://t.me/CyberCodeOwner"><i class="fab fa-telegram detail-share-social-icon"></i></a>
                    <a href="https://www.instagram.com/i.really_miss.you_/"><i class="fab fa-instagram detail-share-social-icon"></i></a>
                    <a href="https://www.linkedin.com/in/shaxobiddin-zuxriddinov-473110294/"><i class="fa-brands fa-linkedin detail-share-social-icon"></i></a>

                    <div class="shareAfterText" id="shareAfterText">
                        <p>You have successfully copied the URL <i class="fa-sharp fa-solid fa-circle-check"></i></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- END DETAIL LINK SECTION -->

    <!-- START SIMILAR POPULAR POSTS SECTION -->

    <section class="similar-popular-posts">
        <div class="similar-popular-container">
            <article class="similar-popular-posts-wrapper">
                <div class="similar-popular-posts-column-container">
                    {% for object in similarPosts %}
                    <div class="similar-popular-posts-column" data-context="Popular Similar Posts">
                        <a href="{% url 'main:blogdetail' pk=object.pk %}" class="similar-popular-post-column-title">
                            {{ object.title }}</a>
                        <p class="similar-popular-post-column-text">{{ object.short_description }}</p>
                        <span class="similar-popular-post-column-posted">Posted on</span>
                        <p class="similar-popular-post-column-date">{{ object.posted_on|date:"F d, Y" }}</p>
                    </div>
                    {% empty %}
                    <article class="partners-empty-container" style="margin-top: 0;">
                        <div class="partners-empty-icon-container">
                            <img src="{% static 'main/images/errors/error.svg' %}" alt="">
                        </div>
                        <h1 class="partners-empty-title">No matching results</h1>
                        <p class="partners-empty-text">There is no any similar blogs yet</p>
                        <a href="{% url 'main:blog' %}" class="partners-empty-clear">Go to blog <i class="fa-solid fa-rotate"></i></a>
                    </article>
                    {% endfor %}
                </div>
            </article>
        </div>
    </section>

    <!-- END SIMILAR POPULAR POSTS SECTION -->

    <!-- Start READY TO TRY SECTION -->

    <section class="ready-to-try-section">
        <div class="ready-to-try-container">
            <div class="ready-to-try-column">
                <h1 class="ready-to-try-title">Ready to try <br> Cyber Code?</h1>
                <p class="ready-to-try-info">Try Cyber Code and take back control of your day</p>
                <div class="ready-to-try-buttons-container">
                    <div class="ready-to-try-btn-column">
                        <a href="{% url 'main:pricing' %}">
                            <button class="ready-to-try-button">Get started</button>
                        </a>
                    </div>
                    <div class="ready-to-try-btn-column">
                        <a href="{% url 'main:pricinglist' %}">
                            <button class="ready-to-try-button-without-background">Pricing</button>
                        </a>
                    </div>
                </div>
            </div>
            <div class="ready-to-try-image-column">
                <img src="{% static 'main/images/contactus/readytotry.svg' %}" alt="">
            </div>
        </div>
    </section>

    <!-- End READY TO TRY SECTION -->

</main>
{% endblock %}

{% block js_block %}
<script>
    document.getElementById('shareBtn').addEventListener('click', function () {
        var customTextElement = document.getElementById('shareAfterText');
        customTextElement.style.display = 'flex';

        var urlToCopy = window.location.href;
        navigator.clipboard.writeText(urlToCopy);

        setTimeout(function () {
            customTextElement.style.display = 'none';
        }, 2500);
    });
</script>

{% endblock %}