{% extends 'layout/base.html' %}
{% load static %}

{% block content %}

{% block title %}
<title>Home - CyberCode</title>
{% endblock %}
<main class="main">
    <!-- START GRADIENT CONTENT -->
    <section class="gradient-container" id="gradient-container">
        <section class="gradient-text-container">
            <h1 class="gradient-title">
                One place to organise, <br>
                communicate and <br>
                store work
            </h1>
            <p class="gradient-text">
                For businesses who need clarity, productive <br>
                communication, prioritisation and accountability.
            </p>
            <div class="gradient-buttons-container">
                <div class="gradient-btn-column">
                    <a href="">
                        <button class="gradient-button">Get started</button>
                    </a>
                </div>
                <div class="gradient-btn-column" id="gradient-btn-column-second">
                    <a href="">
                        <button class="gradient-button-without-background">Try free trial</button>
                    </a>
                </div>
            </div>
        </section>
        <section class="gradient-image-container">
            <img src="{% static 'main/images/main-page/people.svg' %}" alt="">
        </section>
    </section>
    <!-- END GRADIENT CONTENT -->

    <!-- START TASKS CONTENT -->
    <section class="tasks">
        <div class="task-image-column">
            <img src="{% static 'main/images/main-page/tasks.gif' %}" alt="">
        </div>
        <div class="task-content-column">
            <h1 class="task-title">Connect With Apps <br> You Use for Work</h1>
            <p class="task-text">
                Code Craft integrates with the products you use, bringing all <br>
                your tasks, files and communications in one place so <br>
                you always know what to do next.
            </p>
            <a href="" class="task-button-a">
                <button class="task-button">Browse integrations</button>
            </a>
        </div>
    </section>
    <!-- END TASKS CONTENT -->

    <!-- START CHAT -->
    <section class="chat">
        <div class="static-info">
            <h1 class="static-info-title">
                Easy and familiar <br>
                Real-time-chat <br>
                Features
            </h1>
            <p class="static-info-text">
                Add unlimited people. Easy and familiar to use. Productive <br>
                and focused chat related to a task and/or a document. <br>
                Searchable content by keyword.
            </p>
        </div>
        <div class="chats">
            <div class="chat-column">
                <div class="profile">
                    <img src="{% static 'main/images/main-page/avatar.svg' %}" alt="">
                </div>
                <div class="message-container">
                    <p class="chat-message-text">
                        hi, i have finished all the design, kindly check on figma:)
                    </p>
                    <div class="message-creating-details">
                        <h1 class="message-user">Sasa Anastasya</h1>
                        <span class="message-date">12 minutes ago</span>
                    </div>
                </div>
            </div>
            <div class="chat-column">
                <div class="profile">
                    <img src="{% static 'main/images/main-page/people.svg' %}" alt="">
                </div>
                <div class="message-container">
                    <p class="chat-message-text">
                        What you have is good, but maybe we can improve one of the designs above
                    </p>
                    <div class="message-creating-details">
                        <h1 class="message-user">Justin Nur</h1>
                        <span class="message-date">9 minutes ago</span>
                    </div>
                </div>
            </div>
            <div class="chat-column">
                <div class="profile">
                    <img src="{% static 'main/images/main-page/tasks.svg' %}" alt="">
                </div>
                <div class="message-container">
                    <p class="chat-message-text">
                        Great job Azkia! maybe we can add a some gradient for section #2
                    </p>
                    <div class="message-creating-details">
                        <h1 class="message-user">Ahsan Mulia</h1>
                        <span class="message-date">1 minutes ago</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- END CHAT -->

    <!-- START PACKAGE -->
    <section class="package">
        <h1 class="package-title">Your Suitable package <br> for your needs</h1>
        <p class="package-info">Our powerful free plan gives you access to core Code Craft features.</p>
        <div class="package-choices-container">
            <div class="choices-column">
                <div class="price-column">
                    <h1 class="choice-type">Free plan</h1>
                    <span class="price">$600</span>
                    <span class="date">/ Life time</span>
                </div>
                <div class="abilities">
                    <ul class="abilities-ul">
                        <li class="abilities-li">Today & Planning view</li>
                        <li class="abilities-li">Checklist templates</li>
                        <li class="abilities-li">Calendar integration</li>
                        <li class="abilities-li">Browser extension</li>
                    </ul>
                    <button class="abilities-btn">Get started</button>
                </div>
            </div>
            <div class="choices-column">
                <div class="price-column">
                    <h1 class="choice-type">Basic plan</h1>
                    <span class="price">$1000</span>
                    <span class="date">/ Life time</span>
                    <div class="recommended">
                        <h1>Recommended</h1>
                    </div>
                </div>
                <div class="abilities">
                    <ul class="abilities-ul">
                        <li class="abilities-li">Today & Planning view</li>
                        <li class="abilities-li">Checklist templates</li>
                        <li class="abilities-li">Calendar integration</li>
                        <li class="abilities-li">Browser extension</li>
                    </ul>
                    <button class="abilities-btn">Get started</button>
                </div>
            </div>
            <div class="choices-column">
                <div class="price-column">
                    <h1 class="choice-type">Advance plan</h1>
                    <span class="price">$5000</span>
                    <span class="date">/ Life time</span>
                </div>
                <div class="abilities">
                    <ul class="abilities-ul">
                        <li class="abilities-li">Today & Planning view</li>
                        <li class="abilities-li">Checklist templates</li>
                        <li class="abilities-li">Calendar integration</li>
                        <li class="abilities-li">Browser extension</li>
                    </ul>
                    <button class="abilities-btn">Get started </button>
                </div>
            </div>
        </div>
    </section>
    <!-- END PACKAGE -->

    <!-- START CAROUSEL SECTION -->
    <div class="carousel-outer-container">
        <div class="carousel-container">
            <div class="carousel">
                <div class="carousel-slide">
                    <div class="carousel-image-info-container">
                        <div class="image-container">
                            <img src="{% static 'main/images/main-page/carousel1.png' %}" onerror="showNoImage(this)">
                            <span class="carousel-no-image">No image <i class="fa-solid fa-exclamation fa-bounce"></i></span>
                        </div>
                    </div>
                    <div class="carousel-slide-content">
                        <h1 href="" class="carousel-title"><a href="">What’s growth hacking? 8 great books to learntWhat’s growth hacking? 8 great books to learn more about itWhat’s growth hacking? 8 great books to learn more about it</a></h1>
                        <p class="carousel-text">How you can set personal boundaries to reduce stress and burnout
                        </p>
                    </div>
                    <div class="carousel-data-container">
                        <span class="posted-on">Posted on</span>
                        <p class="carousel-data">October 26, 2021</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="carousel-image-info-container">
                        <div class="image-container">
                            <img src="{% static 'main/images/main-page/carousesl1.png' %}" onerror="showNoImage(this)">
                            <span class="carousel-no-image">No image <i class="fa-solid fa-exclamation fa-bounce"></i></span>
                        </div>
                    </div>
                    <div class="carousel-slide-content">
                        <h1 href="" class="carousel-title"><a href="">What’s growth hacking? 8 great books to learntWhat’s growth hacking? 8 great books to learn more about itWhat’s growth hacking? 8 great books to learn more about it</a></h1>
                        <p class="carousel-text">How you can set personal boundaries to reduce stress and burnout
                        </p>
                    </div>
                    <div class="carousel-data-container">
                        <span class="posted-on">Posted on</span>
                        <p class="carousel-data">October 26, 2021</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="carousel-image-info-container">
                        <div class="image-container">
                            <img src="{% static 'main/images/main-page/carousesl1.png' %}" onerror="showNoImage(this)">
                            <span class="carousel-no-image">No image <i class="fa-solid fa-exclamation fa-bounce"></i></span>
                        </div>
                    </div>
                    <div class="carousel-slide-content">
                        <h1 href="" class="carousel-title"><a href="">What’s growth hacking? 8 great books to learntWhat’s growth hacking? 8 great books to learn more about itWhat’s growth hacking? 8 great books to learn more about it</a></h1>
                        <p class="carousel-text">How you can set personal boundaries to reduce stress and burnout
                        </p>
                    </div>
                    <div class="carousel-data-container">
                        <span class="posted-on">Posted on</span>
                        <p class="carousel-data">October 26, 2021</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="carousel-image-info-container">
                        <div class="image-container">
                            <img src="{% static 'main/images/main-page/carousesl1.png' %}" onerror="showNoImage(this)">
                            <span class="carousel-no-image">No image <i class="fa-solid fa-exclamation fa-bounce"></i></span>
                        </div>
                    </div>
                    <div class="carousel-slide-content">
                        <h1 href="" class="carousel-title"><a href="">What’s growth hacking? 8 great books to learntWhat’s growth hacking? 8 great books to learn more about itWhat’s growth hacking? 8 great books to learn more about it</a></h1>
                        <p class="carousel-text">How you can set personal boundaries to reduce stress and burnout
                        </p>
                    </div>
                    <div class="carousel-data-container">
                        <span class="posted-on">Posted on</span>
                        <p class="carousel-data">October 26, 2021</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <div class="carousel-image-info-container">
                        <div class="image-container">
                            <img src="{% static 'main/images/main-page/avatar.svg' %}" onerror="showNoImage(this)">
                            <span class="carousel-no-image">No image <i class="fa-solid fa-exclamation fa-bounce"></i></span>
                        </div>
                    </div>
                    <div class="carousel-slide-content">
                        <h1 href="" class="carousel-title"><a href="">What’s growth hacking? 8 great books to learntWhat’s growth hacking? 8 great books to learn more about itWhat’s growth hacking? 8 great books to learn more about it</a></h1>
                        <p class="carousel-text">How you can set personal boundaries to reduce stress and burnout
                        </p>
                    </div>
                    <div class="carousel-data-container">
                        <span class="posted-on">Posted on</span>
                        <p class="carousel-data">October 26, 2021</p>
                    </div>
                </div>
            </div>
            <div class="controls-container">
                <div class="carousel-controls">
                    <button class="carousel-prev">
                        <i class="fa-sharp fa-solid fa-circle-chevron-left"></i>
                    </button>
                    <button class="carousel-next">
                        <i class="fa-sharp fa-solid fa-circle-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- END CAROUSEL SECTION -->
</main>
{% endblock %}

{% block js_block %}
<script>
    // No image


    function showNoImage(imgElement) {
        imgElement.style.display = 'none';
        var imageContainer = imgElement.closest('.image-container');
        var noImageText = imageContainer.querySelector('.carousel-no-image');
        noImageText.style.display = 'flex';
    }

    // 
    const carousel = document.querySelector('.carousel');
    const prevButton = document.querySelector('.carousel-prev');
    const nextButton = document.querySelector('.carousel-next');
    const totalSlides = carousel.children.length;

    let slideWidth = 0;

    function calculateSlideWidth() {
        const firstSlide = carousel.querySelector('.carousel-slide');
        if (firstSlide) {
            slideWidth = firstSlide.clientWidth;
            if (window.innerWidth < 500) { // Mobile
                slideWidth += 0.5 * 16;
            } else if (window.innerWidth < 768) {
                slideWidth += 2.2 * 16;
            }
        }
    }

    calculateSlideWidth();

    let touchStartX = 0;
    let touchEndX = 0;
    let dragging = false;
    let currentIndex = 0;

    function showSlide(index) {
        currentIndex = Math.min(Math.max(index, 0), totalSlides - 1);
        const translateValue = -currentIndex * slideWidth;
        carousel.style.transform = `translateX(${translateValue}px)`;
    }

    function handleTouchStart(event) {
        touchStartX = event.touches[0].clientX;
        dragging = true;
    }

    function handleTouchMove(event) {
        if (!dragging) return;
        touchEndX = event.touches[0].clientX;
    }

    function handleTouchEnd() {
        if (!dragging) return;
        dragging = false;

        const touchDiff = touchStartX - touchEndX;

        if (touchDiff > 50) {
            showSlide(currentIndex + 1); // Change to +1 for one slide forward
        } else if (touchDiff < -50) {
            showSlide(currentIndex - 1); // Change to -1 for one slide backward
        }
    }

    function handleMouseDown(event) {
        touchStartX = event.clientX;
        dragging = true;
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);
    }

    function handleMouseMove(event) {
        if (!dragging) return;
        touchEndX = event.clientX;
    }

    function handleMouseUp() {
        if (!dragging) return;
        dragging = false;
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', handleMouseUp);

        const touchDiff = touchStartX - touchEndX;

        if (touchDiff > 50) {
            showSlide(currentIndex + 1); // Change to +1 for one slide forward
        } else if (touchDiff < -50) {
            showSlide(currentIndex - 1); // Change to -1 for one slide backward
        }
    }

    window.addEventListener('resize', calculateSlideWidth);
    nextButton.addEventListener('click', () => showSlide(currentIndex + 1)); // Change to +1 for one slide forward
    prevButton.addEventListener('click', () => showSlide(currentIndex - 1)); // Change to -1 for one slide backward
    carousel.addEventListener('touchstart', handleTouchStart);
    carousel.addEventListener('touchmove', handleTouchMove);
    carousel.addEventListener('touchend', handleTouchEnd);
    carousel.addEventListener('mousedown', handleMouseDown);

    showSlide(currentIndex);



// Uncomment the following lines if you want to enable autoplay
// const autoplayInterval = 300; // Adjust as needed
// let autoplayTimer;
// function startAutoplay() {
//   autoplayTimer = setInterval(() => {
//     nextSlide();
//   }, autoplayInterval);
// }
// function stopAutoplay() {
//   clearInterval(autoplayTimer);
// }
// startAutoplay();
// carousel.addEventListener('mouseenter', stopAutoplay);
// carousel.addEventListener('mouseleave', startAutoplay);



</script>
{% endblock %}